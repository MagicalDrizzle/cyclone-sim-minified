class Scale{constructor(o){let r,e;if(r=!o||o instanceof LoadData?{}:o,this.displayName=r.displayName,this.measure=r.measure||SCALE_MEASURE_ONE_MIN_KNOTS,this.classifications=[],r instanceof Array?e=r:r.classifications instanceof Array&&(e=r.classifications),e)for(let o of e){let r={};r.threshold=o.threshold,void 0===r.threshold&&(this.measure===SCALE_MEASURE_MILLIBARS?r.threshold=1e3:r.threshold=35),r.color=void 0===o.color?"white":o.color,r.subtropicalColor=o.subtropicalColor,r.symbol=void 0===o.symbol?"C":o.symbol,r.arms=void 0===o.arms?2:o.arms,r.subtropicalSymbol=o.subtropicalSymbol,r.stormNom=o.stormNom,r.subtropicalStormNom=o.subtropicalStormNom,r.stat=o.stat,r.cName=o.cName,this.classifications.push(r)}this.colorSchemeValue=0,this.colorSchemeDisplayNames=r.colorSchemeDisplayNames||[],this.flavorValue=0,this.flavorDisplayNames=r.flavorDisplayNames||[],this.numberingThreshold=void 0===r.numberingThreshold?0:r.numberingThreshold,this.namingThreshold=void 0===r.namingThreshold?1:r.namingThreshold,o instanceof LoadData&&this.load(o)}get(o){if(o instanceof StormData){let r,e=0;if(this.measure===SCALE_MEASURE_MILLIBARS||this.measure===SCALE_MEASURE_INHG)for(r=o.pressure,this.measure===SCALE_MEASURE_INHG&&(r=mbToInHg(r));e+1<this.classifications.length&&r<=this.classifications[e+1].threshold;)e++;else for(r=o.windSpeed,this.measure!==SCALE_MEASURE_TEN_MIN_KNOTS&&this.measure!==SCALE_MEASURE_TEN_MIN_MPH&&this.measure!==SCALE_MEASURE_TEN_MIN_KMH||(r=oneMinToTenMin(r)),this.measure!==SCALE_MEASURE_ONE_MIN_MPH&&this.measure!==SCALE_MEASURE_TEN_MIN_MPH||(r=ktsToMph(r)),this.measure!==SCALE_MEASURE_ONE_MIN_KMH&&this.measure!==SCALE_MEASURE_TEN_MIN_KMH||(r=ktsToKmh(r));e+1<this.classifications.length&&r>=this.classifications[e+1].threshold;)e++;return e}}getColor(){let o,r;if(arguments[0]instanceof StormData){if(arguments[0].type===EXTROP)return COLORS.storm[EXTROP];if(arguments[0].type===TROPWAVE)return COLORS.storm[TROPWAVE];o=this.get(arguments[0]),r=arguments[0].type===SUBTROP}else o=arguments[0],r=arguments[1];if(this.classifications.length<1)return"white";for(;!this.classifications[o].color&&o>0;)o--;let e,s=this.classifications[o];return(e=r&&s.subtropicalColor?s.subtropicalColor:s.color)instanceof Array?e[this.colorSchemeValue]:e}getIcon(){let o,r,e;if(arguments[0]instanceof StormData?(o=this.get(arguments[0]),r=arguments[0].type===SUBTROP,e=this.getColor(arguments[0])):(o=arguments[0],r=arguments[1],e=this.getColor(o,r)),this.classifications.length<1)return{symbol:r?"SC":"C",arms:2,color:"white"};for(;!this.classifications[o].symbol&&o>0;)o--;let s,a=this.classifications[o],t=o=>o instanceof Array?o[this.flavorValue]:o;return{symbol:s=r?a.subtropicalSymbol?t(a.subtropicalSymbol):"S"+t(a.symbol):t(a.symbol),arms:a.arms,color:e}}getStormNom(){let o,r;if(arguments[0]instanceof StormData?(o=this.get(arguments[0]),r=arguments[0].type===SUBTROP):(o=arguments[0],r=arguments[1]),this.classifications.length<1)return r?"Subtropical Cyclone":"Tropical Cyclone";for(;!this.classifications[o].stormNom&&o>0;)o--;let e=this.classifications[o],s=o=>o instanceof Array?o[this.flavorValue]:o;return r?e.subtropicalStormNom?s(e.subtropicalStormNom):e.stormNom?"Subtropical "+s(e.stormNom):"Subtropical Cyclone":e.stormNom?s(e.stormNom):"Tropical Cyclone"}getClassificationName(){let o;return o=arguments[0]instanceof StormData?this.get(arguments[0]):arguments[0],this.classifications.length<1?"Cyclone":this.classifications[o].cName?this.classifications[o].cName:o+""}*statDisplay(){for(let o=0;o<this.classifications.length;o++){let r=this.classifications[o];r.stat&&(r.stat instanceof Array&&r.stat[this.flavorValue]?yield{statName:r.stat[this.flavorValue],cNumber:o}:"string"==typeof r.stat&&(yield{statName:r.stat,cNumber:o}))}}colorScheme(o){return"number"==typeof o?(this.colorSchemeValue=o,this):this.colorSchemeValue}flavor(o){return"number"==typeof o?(this.flavorValue=o,this):this.flavorValue}clone(){let o=new Scale;for(let r of["displayName","measure","colorSchemeValue","flavorValue","numberingThreshold","namingThreshold"])o[r]=this[r];for(let r of["classifications","colorSchemeDisplayNames","flavorDisplayNames"])o[r]=JSON.parse(JSON.stringify(this[r]));return o}save(){let o={};for(let r of["displayName","measure","classifications","colorSchemeValue","colorSchemeDisplayNames","flavorValue","flavorDisplayNames","numberingThreshold","namingThreshold"])o[r]=this[r];return o}load(o){if(o instanceof LoadData){let r=o.value;for(let o of["displayName","measure","classifications","colorSchemeValue","colorSchemeDisplayNames","flavorValue","flavorDisplayNames"])this[o]=r[o];void 0!==r.numberingThreshold&&(this.numberingThreshold=r.numberingThreshold),void 0!==r.namingThreshold&&(this.namingThreshold=r.namingThreshold)}}static convertOldValue(o){return o<5?o+1:o+2}}Scale.saffirSimpson=new Scale({displayName:"Saffir-Simpson",colorSchemeDisplayNames:["Classic","Wiki","Force Thirteen"],flavorDisplayNames:["Hurricane","Typhoon","Cyclone"],classifications:[{threshold:0,color:["rgb(20,20,230)","#5ebaff","#0073FF"],subtropicalColor:["rgb(60,60,220)","#5ebaff","#A61EFF"],symbol:"D",arms:0,stormNom:"Tropical Depression",subtropicalStormNom:"Subtropical Depression",stat:"Depressions",cName:"Depression"},{threshold:34,color:["rgb(20,230,20)","#00faf4","#00F000"],subtropicalColor:["rgb(60,220,60)","#00faf4","#94F097"],symbol:"S",stormNom:"Tropical Storm",subtropicalStormNom:"Subtropical Storm",stat:"Named Storms",cName:"Storm"},{threshold:64,color:["rgb(230,230,20)","#ffffcc","#FFF000"],symbol:"1",stormNom:["Hurricane","Typhoon","Cyclone"],stat:["Hurricanes","Typhoons","Cyclones"],cName:"Category 1"},{threshold:83,color:["rgb(240,170,20)","#ffe775","#FFC300"],symbol:"2",cName:"Category 2"},{threshold:96,color:["rgb(240,20,20)","#ffc140","#FF8200"],symbol:"3",stormNom:["Major Hurricane","Typhoon","Cyclone"],stat:["Major Hurricanes","Category 3+","Category 3+"],cName:"Category 3"},{threshold:113,color:["rgb(250,40,250)","#ff8f20","#FF4200"],symbol:"4",cName:"Category 4"},{threshold:130,color:["rgb(250,40,250)","#ff8f20","#FF4200"],symbol:"4",stormNom:["Major Hurricane","Super Typhoon","Cyclone"],stat:[void 0,"Super Typhoons"],cName:"Category 4 STY"},{threshold:137,color:["rgb(250,140,250)","#ff6060","#E61932"],symbol:"5",stat:"Category 5s",cName:"Category 5"}]}),Scale.extendedSaffirSimpson=new Scale({displayName:"Extended Saffir-Simpson",colorSchemeDisplayNames:["Classic","Wiki","Force Thirteen"],flavorDisplayNames:["Hurricane","Typhoon","Cyclone"],classifications:[{threshold:0,color:["rgb(20,20,230)","#5ebaff","#0073FF"],subtropicalColor:["rgb(60,60,220)","#5ebaff","#A61EFF"],symbol:"D",arms:0,stormNom:"Tropical Depression",subtropicalStormNom:"Subtropical Depression",stat:"Depressions",cName:"Depression"},{threshold:34,color:["rgb(20,230,20)","#00faf4","#00F000"],subtropicalColor:["rgb(60,220,60)","#00faf4","#94F097"],symbol:"S",stormNom:"Tropical Storm",subtropicalStormNom:"Subtropical Storm",stat:"Named Storms",cName:"Storm"},{threshold:64,color:["rgb(230,230,20)","#ffffcc","#FFF000"],symbol:"1",stormNom:["Hurricane","Typhoon","Cyclone"],stat:["Hurricanes","Typhoons","Cyclones"],cName:"Category 1"},{threshold:83,color:["rgb(240,170,20)","#ffe775","#FFC300"],symbol:"2",cName:"Category 2"},{threshold:96,color:["rgb(240,20,20)","#ffc140","#FF8200"],symbol:"3",stormNom:["Major Hurricane","Typhoon","Cyclone"],stat:["Major Hurricanes","Category 3+","Category 3+"],cName:"Category 3"},{threshold:113,color:["rgb(250,40,250)","#ff8f20","#FF4200"],symbol:"4",cName:"Category 4"},{threshold:130,color:["rgb(250,40,250)","#ff8f20","#FF4200"],symbol:"4",stormNom:["Major Hurricane","Super Typhoon","Cyclone"],stat:[void 0,"Super Typhoons"],cName:"Category 4 STY"},{threshold:137,color:["rgb(250,140,250)","#ff6060","#E61932"],symbol:"5",stat:"Category 5+",cName:"Category 5"},{threshold:165,color:["rgb(250,200,250)","#8b0000","#E6AFB4"],symbol:"6",cName:"Category 6"},{threshold:198,color:["rgb(240,90,90)","#cc0033","#E6E6E6"],symbol:"7",cName:"Category 7"},{threshold:255,color:["rgb(190,60,60)","#cc0066","#E6AAE6"],symbol:"8",stat:"Category 8+",cName:"Category 8"},{threshold:318,color:["rgb(130,10,10)","#9B30FF","#E673E6"],symbol:"9",cName:"Category 9"},{threshold:378,color:["rgb(120,10,120)","#F9A7B0","#E632E6"],symbol:"10",cName:"Category 10"},{threshold:434,color:["rgb(20,0,140)","#ff99ff","#AA00E6"],symbol:"HY",stormNom:["Hypercane","Hyperphoon","Hyperclone"],stat:["Hypercanes","Hyperphoons","Hyperclones"],cName:"Hypercane"}]}),Scale.australian=new Scale({measure:SCALE_MEASURE_TEN_MIN_KNOTS,displayName:"Australian",colorSchemeDisplayNames:["Classic","Wiki","Force Thirteen"],flavorDisplayNames:["Cyclone"],classifications:[{threshold:0,color:["rgb(20,20,230)","#5ebaff","#0073FF"],subtropicalColor:["rgb(60,60,220)","#5ebaff","#A61EFF"],symbol:"D",arms:0,stormNom:"Tropical Depression",subtropicalStormNom:"Subtropical Depression",stat:"Depressions",cName:"Depression"},{threshold:34,color:["rgb(20,230,20)","#00faf4","#00F000"],subtropicalColor:["rgb(60,220,60)","#00faf4","#94F097"],symbol:"1",stormNom:"Tropical Cyclone",subtropicalStormNom:"Subtropical Cyclone",stat:"Cyclones",cName:"Category 1"},{threshold:48,color:["rgb(180,230,20)","#ccffff","#B4F000"],subtropicalColor:["rgb(180,220,85)","#ccffff","#B4F055"],symbol:"2",stat:"Category 2+",cName:"Category 2"},{threshold:64,color:["rgb(230,230,20)","#ffffcc","#FFF000"],symbol:"3",stat:"Category 3+",cName:"Category 3"},{threshold:86,color:["rgb(240,20,20)","#ffc140","#FF8200"],symbol:"4",stat:"Category 4+",cName:"Category 4"},{threshold:108,color:["rgb(250,140,250)","#ff6060","#E61932"],symbol:"5",stat:"Category 5s",cName:"Category 5"}]}),Scale.typhoonCommittee=new Scale({measure:SCALE_MEASURE_TEN_MIN_KNOTS,displayName:"WMO Typhoon Committee",colorSchemeDisplayNames:["Classic","Wiki","Force Thirteen"],flavorDisplayNames:["Typhoon"],classifications:[{threshold:0,color:["rgb(20,20,230)","#5ebaff","#0073FF"],subtropicalColor:["rgb(60,60,220)","#5ebaff","#A61EFF"],symbol:"D",arms:0,stormNom:"Tropical Depression",subtropicalStormNom:"Subtropical Depression",stat:"Depressions",cName:"Depression"},{threshold:34,color:["rgb(20,230,20)","#00faf4","#00F000"],subtropicalColor:["rgb(60,220,60)","#00faf4","#94F097"],symbol:"S",stormNom:"Tropical Storm",subtropicalStormNom:"Subtropical Storm",stat:"Named Storms",cName:"Storm"},{threshold:48,color:["rgb(180,230,20)","#ccffff","#B4F000"],subtropicalColor:["rgb(180,220,85)","#ccffff","#B4F055"],symbol:"STS",subtropicalSymbol:"SSS",stormNom:"Severe Tropical Storm",subtropicalStormNom:"Severe Subtropical Storm",stat:"Severe",cName:"Severe"},{threshold:64,color:["rgb(240,130,20)","#fdaf9a","#FF9B00"],symbol:"TY",stormNom:"Typhoon",stat:"Typhoons",cName:"Typhoon"}]}),Scale.IMD=new Scale({measure:SCALE_MEASURE_TEN_MIN_KNOTS,displayName:"India Meteorological Dept.",colorSchemeDisplayNames:["Classic","Wiki","Force Thirteen"],flavorDisplayNames:["Cyclone"],namingThreshold:2,classifications:[{threshold:17,color:["rgb(75,75,245)","#80ccff","#37AAFF"],subtropicalColor:["rgb(95,95,235)","#80ccff","#C941FF"],symbol:"D",arms:0,stormNom:"Depression",stat:"Depressions",cName:"Depression"},{threshold:28,color:["rgb(20,20,230)","#5ebaff","#0073FF"],subtropicalColor:["rgb(60,60,220)","#5ebaff","#A61EFF"],symbol:"DD",arms:0,stormNom:"Deep Depression",stat:"Deep Depressions",cName:"Deep Depression"},{threshold:34,color:["rgb(20,230,20)","#00faf4","#00F000"],subtropicalColor:["rgb(60,220,60)","#00faf4","#94F097"],symbol:"CS",subtropicalSymbol:"SS",stormNom:"Cyclonic Storm",stat:"Cyclonic Storms",cName:"Cyclonic Storm"},{threshold:48,color:["rgb(180,230,20)","#ccffff","#B4F000"],subtropicalColor:["rgb(180,220,85)","#ccffff","#B4F055"],symbol:"SCS",subtropicalSymbol:"SSS",stormNom:"Severe Cyclonic Storm",stat:"Severe",cName:"Severe Cyclonic Storm"},{threshold:64,color:["rgb(230,230,20)","#ffffcc","#FFF000"],symbol:"VSCS",subtropicalSymbol:"VSSS",stormNom:"Very Severe Cyclonic Storm",stat:"Very Severe",cName:"Very Severe Cyclonic Storm"},{threshold:90,color:["rgb(240,20,20)","#ffc140","#FF8200"],symbol:"ESCS",subtropicalSymbol:"ESSS",stormNom:"Extremely Severe Cyclonic Storm",stat:"Extremely Severe",cName:"Extremely Severe Cyclonic Storm"},{threshold:120,color:["rgb(250,140,250)","#ff6060","#E61932"],symbol:"SUCS",subtropicalSymbol:"SUSS",stormNom:"Super Cyclonic Storm",stat:"Super",cName:"Super Cyclonic Storm"}]}),Scale.southwestIndianOcean=new Scale({measure:SCALE_MEASURE_TEN_MIN_KNOTS,displayName:"Southwest Indian Ocean",colorSchemeDisplayNames:["Classic","Wiki","Force Thirteen"],flavorDisplayNames:["Cyclone"],namingThreshold:2,classifications:[{threshold:0,color:["rgb(75,75,245)","#80ccff","#37AAFF"],subtropicalColor:["rgb(95,95,235)","#80ccff","#C941FF"],symbol:"Di",arms:0,stormNom:"Tropical Disturbance",subtropicalStormNom:"Subtropical Disturbance",stat:"Disturbances",cName:"Disturbance"},{threshold:28,color:["rgb(20,20,230)","#5ebaff","#0073FF"],subtropicalColor:["rgb(60,60,220)","#5ebaff","#A61EFF"],symbol:"D",arms:0,stormNom:"Tropical Depression",stat:"Depressions",cName:"Depression"},{threshold:34,color:["rgb(20,230,20)","#00faf4","#00F000"],subtropicalColor:["rgb(60,220,60)","#00faf4","#94F097"],symbol:"MTS",subtropicalSymbol:"MSS",stormNom:"Moderate Tropical Storm",subtropicalStormNom:"Moderate Subtropical Storm",stat:"Named Storms",cName:"Moderate Tropical Storm"},{threshold:48,color:["rgb(180,230,20)","#ccffff","#B4F000"],subtropicalColor:["rgb(180,220,85)","#ccffff","#B4F055"],symbol:"STS",subtropicalSymbol:"SSS",stormNom:"Severe Tropical Storm",subtropicalStormNom:"Severe Subtropical Storm",stat:"Severe",cName:"Severe Tropical Storm"},{threshold:64,color:["rgb(230,230,20)","#ffffcc","#FFF000"],symbol:"TC",subtropicalSymbol:"SC",stormNom:"Tropical Cyclone",subtropicalStormNom:"Subtropical Cyclone",stat:"Cyclones",cName:"Tropical Cyclone"},{threshold:90,color:["rgb(240,20,20)","#ffc140","#FF8200"],symbol:"ITC",subtropicalSymbol:"ISC",stormNom:"Intense Tropical Cyclone",subtropicalStormNom:"Intense Subtropical Cyclone",stat:"Intense",cName:"Intense Tropical Cyclone"},{threshold:115,color:["rgb(250,140,250)","#ff6060","#E61932"],symbol:"VITC",subtropicalSymbol:"VISC",stormNom:"Very Intense Tropical Cyclone",subtropicalStormNom:"Very Intense Subtropical Cyclone",stat:"Very Intense",cName:"Very Intense Tropical Cyclone"}]}),Scale.presetScales=[Scale.saffirSimpson,Scale.extendedSaffirSimpson,Scale.australian,Scale.typhoonCommittee,Scale.IMD,Scale.southwestIndianOcean];